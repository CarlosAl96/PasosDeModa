<div class="product-details" *ngIf="product">
  <div class="carousel">
    <p-carousel
      [value]="product.images"
      [numVisible]="1"
      [numScroll]="1"
      [circular]="false"
      [showIndicators]="false"
      *ngIf="product.images"
    >
      <ng-template let-productImage pTemplate="item">
        <div class="surface-border border-round m-2 text-center py-5 px-3">
          <div class="mb-3">
            <img
              src="{{ productImage }}"
              alt="product"
              class="shadow-2"
              width="700"
            />
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>
  <div class="details mt-5">
    <div>
      <h3>{{ product.name }}</h3>
    </div>

    <div>
      <strong>${{ product.price }}</strong>
    </div>

    <div class="sizes">
      <span class="title">Tamaños</span>

      <div class="size-wrapper">
        <div
          *ngFor="let item of product.sizes"
          class="size"
          [ngClass]="{ selected: selectedSize === item }"
          (click)="selectSize(item)"
        >
          <span>{{ item }}</span>
        </div>
      </div>
    </div>

    <div class="add-to-card-button">
      <p-button
        styleClass="p-button-secondary"
        (onClick)="saveOrder()"
        [disabled]="selectedSize === ''"
      >
        <div class="w-full text-center">
          <span
            class="spinner-border spinner-border-sm mr-2"
            aria-hidden="true"
            *ngIf="loading"
          ></span>
          <span role="status">{{
            loading ? "Guardando" : "Añadir al carrito"
          }}</span>
        </div>
      </p-button>
    </div>

    <div class="mt-6 text-center">
      <h5>Colores disponibles</h5>

      <div class="mt-5">
        <a href="/product/1/details" class="mx-2">
          <img
            src="assets/images/model-2-1.webp"
            alt="product"
            class="shadow-2"
            width="100"
          />
        </a>

        <a href="/product/1/details" class="mx-2">
          <img
            src="assets/images/model-3-1.webp"
            alt="product"
            class="shadow-2"
            width="100"
          />
        </a>

        <a href="/product/1/details" class="mx-2">
          <img
            src="assets/images/model-4-1.webp"
            alt="product"
            class="shadow-2"
            width="100"
          />
        </a>
      </div>
    </div>
  </div>
</div>
